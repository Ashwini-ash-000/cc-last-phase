<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Royal Dashboard - Faculty Feedback Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet" />

    <script>
        tailwind.config = {
          darkMode: 'class',
          theme: {
            extend: {
              colors: {
                royal: {
                  dark: '#0a0e17',
                  navy: '#121a2b',
                  gold: '#d4af37',
                  light: '#e8e6e1',
                  slate: '#2d3748',
                  emerald: '#047857',
                  sapphire: '#1d4ed8',
                  ruby: '#991b1b'
                },
              },
              fontFamily: {
                crown: ['Cinzel', 'serif'],
                body: ['Inter', 'sans-serif'],
              },
              boxShadow: {
                'royal': '0 10px 25px -5px rgba(0, 0, 0, 0.5), 0 5px 10px -5px rgba(212, 175, 55, 0.2)',
              },
              animation: {
                fadeIn: 'fadeIn 0.6s ease-out',
              },
              keyframes: {
                fadeIn: {
                  from: { opacity: '0', transform: 'translateY(10px)' },
                  to: { opacity: '1', transform: 'translateY(0)' },
                },
              },
            }
          }
        }
    </script>

    <style>
        .royal-divider {
          background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.5), transparent);
        }
    </style>
</head>

<body class="bg-royal-dark font-body text-royal-light min-h-screen flex flex-col items-center p-4 animate-fadeIn">

<div class="w-full max-w-4xl bg-royal-navy rounded-xl shadow-royal border-t-4 border-royal-gold mt-12 p-8 relative overflow-hidden">

    <!-- Royal Seal -->
    <div class="absolute -top-10 -right-10 opacity-20">
        <svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="#d4af37" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
        </svg>
    </div>

    <!-- Header -->
    <div class="text-center mb-10">
        <div class="w-20 h-20 mx-auto mb-4 bg-royal-dark rounded-full border-2 border-royal-gold flex items-center justify-center shadow-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-royal-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
            </svg>
        </div>
        <h1 class="text-3xl font-crown font-bold text-royal-gold mb-2">Royal Dashboard</h1>
        <p class="text-royal-light opacity-80">Faculty Feedback Portal</p>
    </div>

    <!-- Profile Section -->
    <div class="mb-12 bg-royal-dark rounded-lg p-6 border border-royal-slate">
        <h2 class="font-crown text-xl text-royal-gold mb-4 pb-2 border-b border-royal-slate">Your Royal Credentials</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
                <p class="text-xs uppercase tracking-wider text-royal-gold opacity-80">Email</p>
                <p id="userEmail" class="font-medium text-lg break-words"></p>
            </div>
            <div>
                <p class="text-xs uppercase tracking-wider text-royal-gold opacity-80">Roll No</p>
                <p id="userRollNo" class="font-medium text-lg"></p>
            </div>
            <div>
                <p class="text-xs uppercase tracking-wider text-royal-gold opacity-80">Branch</p>
                <p id="userBranch" class="font-medium text-lg"></p>
            </div>
        </div>
    </div>

    <!-- Divider -->
    <div class="royal-divider h-px w-full my-8"></div>

    <!-- Actions -->
    <div class="space-y-4 mb-10">
        <h2 class="font-crown text-xl text-royal-gold mb-4 text-center">Royal Actions</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <a href="feedback.html" class="bg-royal-sapphire hover:bg-royal-gold group transition-all duration-300 rounded-lg p-4 border border-royal-slate hover:border-royal-gold flex items-center space-x-4 shadow hover:shadow-lg hover:scale-[1.02]">
                <div class="bg-royal-navy group-hover:bg-royal-dark p-3 rounded-lg border border-royal-slate">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-royal-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </div>
                <div>
                    <h3 class="font-medium text-lg">Feedback</h3>
                    <p class="text-sm opacity-80">Submit & View Feedback</p>
                </div>
            </a>
            <a href="suggestion.html" class="bg-royal-emerald hover:bg-royal-gold group transition-all duration-300 rounded-lg p-4 border border-royal-slate hover:border-royal-gold flex items-center space-x-4 shadow hover:shadow-lg hover:scale-[1.02]">
                <div class="bg-royal-navy group-hover:bg-royal-dark p-3 rounded-lg border border-royal-slate">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-royal-gold" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
                    </svg>
                </div>
                <div>
                    <h3 class="font-medium text-lg">Suggestions</h3>
                    <p class="text-sm opacity-80">Submit & View Suggestions</p>
                </div>
            </a>
        </div>
    </div>

    <!-- Logout -->
    <div class="flex justify-center">
        <button id="logoutButton" class="bg-royal-ruby hover:bg-royal-gold text-white hover:text-royal-dark font-medium py-3 px-8 rounded-lg transition-all duration-300 border border-royal-ruby hover:border-royal-gold flex items-center space-x-2 shadow hover:shadow-lg hover:scale-105">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            <span>Logout</span>
        </button>
    </div>
</div>

<!-- JS Logic (Unchanged) -->
<script type="module">
    import { requireAuth, getCurrentUser, clearAuthData } from './auth.js';

    requireAuth();

    const user = getCurrentUser();
    if (user) {
      document.getElementById('userEmail').textContent = user.email;
      document.getElementById('userRollNo').textContent = user.roll_no;
      document.getElementById('userBranch').textContent = user.branch;
    }

    document.getElementById('logoutButton').addEventListener('click', () => {
      clearAuthData();
      window.location.href = 'login.html';
    });
</script>

</body>
</html>
